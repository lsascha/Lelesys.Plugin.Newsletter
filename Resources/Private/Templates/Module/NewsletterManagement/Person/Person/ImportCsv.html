<f:layout name="DefaultBackend" />

<f:section name="Content">
    <f:render partial="Module\FlashMessage" arguments="{severityName: flashmessage}" />
    <f:form action="importList">
        <div class="row neos-content neos-container-fluid">
            <f:if condition="{groups}">
                <div class="neos-control-group">
                    <label for="groups"><f:translate id="lelesys.plugin.newsletter.groups"></f:translate></label>
                    <f:form.select options="{groups}" optionLabelField="title" name="groups" id="groups" multiple="TRUE"></f:form.select>
                </div>
            </f:if>
            <div class="neos-control-group">
                <label for="personCSVList">CSV List (with headline [firstName,lastName,eMail,gender=m,w])</label>

                <div class="neos-controls">
                    <f:form.textarea name="personCSVList" id="personCSVList" value="firstName,lastName,eMail,gender
" class="required not-empty span3" rows="10"/>
                </div>
            </div>
            <div class="neos-alert neos-alert-error form-error error checkvalid" style="display: none;"></div>
        </div>
        <div class="neos-form-actions neos-footer">
            <f:link.action action="index" class="neos-btn neos-button"><f:translate id="lelesys.plugin.newsletter.cancel"></f:translate></f:link.action>
            <div class="pull-right">
                <f:form.submit class="neos-btn neos-button-primary neos-button createGroupStatic" value="Create" />
            </div>
        </div>
    </f:form>
    <f:render partial="Module/JavaScripts"/>
    <f:render partial="Module/StyleSheets"/>
    <script>
        var validEmail = '<f:translate id="lelesys.plugin.newsletter.validEmail"></f:translate>'
        var whitespaceCheck = '<f:translate id="lelesys.plugin.newsletter.whitespaceCheck"></f:translate>';
    </script>
</f:section>